---
title: Raft论文翻译
date: 2016-11-11 15:53:05
categories: translate
tags: Raft 翻译
---

翻译了Diego Ongaro和John Ousterhout的论文《In Search of an Understandable Consensus Algorithm(Extended Version)》
[原文地址](https://raft.github.io/raft.pdf)

<!-- more -->

# 摘要

&emsp;&emsp;&emsp;&emsp;Raft是一种管理复制日志的一致性算法。Raft产生的结果和Paxos或者multi-Paxos是一样的，并且Raft和Paxos一样高效，但是Raft的结构和Paxos是不一样的；这样让Raft比Paxos更容易理解并且为构建使用系统提供了更好的基础。为了增强可理解性，Raft分离了一致性算法的关键要素，比如leader选举，日志复制和安全性，并强制强一致性来减少必须要被考虑的状态。用户的研究结果表明，对学生来说，Raft比Paxos更容易学习。Raft也包括改变集群成员的新机制：使用重叠大多数成员保证安全性。

# 1 介绍
&emsp;&emsp;&emsp;&emsp;一致性算法可以让一批机器作为一个相关的组，这样即使组里面有机器故障，但是整个组仍然能够对外提供服务。因为这样，一致性算法在构建一个可靠的大规模软件系统中扮演者关键角色。在过去十年中，Paxos算法在一致性算法的讨论中一直占主导地位。大多数一致性算法的实现都基于Paxos算法或者受其影响，并且Paxos已经作为教学生一致性算法的主要工具。  
&emsp;&emsp;&emsp;&emsp;不幸的是，Paxos非常难于理解，尽管为了让它更通熟易懂做了无数的尝试。此外，Paxos的架构让它需要作出复杂的改变才能支持实用的系统。因此，系统集成商和学生都在和Paxos算法作斗争。  
&emsp;&emsp;&emsp;&emsp;在我们和Paxos算法斗争之后，我们开始寻找一个新的一致性算法，新的算法可以为软件系统建设和教学提供一个更好的基础。我们的方法——主要目标是易于理解——是与众不同的：我们可以为实用系统定义一个一致性算法，并且这个算法比Paxos更容易学习？此外，我们希望该算法对系统建设者来说更为直观。不仅仅是让算法有效，并且让该算法有效看起来显而易见也很重要。  
&emsp;&emsp;&emsp;&emsp;这个工作的成果就是被称为Raft的一致性算法。在设计Raft时，我们采用了特定的技术来提高可理解性，包括分解（Raft分离了leader选举，日志复制和安全性）和状态空间减少（相对于Paxos，Raft减少了不确定性程度和某个server会与其他server不一致的途径）。在两所大学共43名学生参与的用户研究表明，Raft比Paxos更容易理解：在学完两个两个算法后，其中33名学生在Raft算法上回答的比Paxos更好。  
&emsp;&emsp;&emsp;&emsp;Raft在很多方面和已有的一致性算法很像，但是它有一些新颖的特点：
  
- strong leader: Raft比其他一致性算法使用更强形式的领导力。比如，日志入口只能从leader流向其他server。这简化了日志复制的管理并使Raft更容易理解。
- leader选举：Raft使用随机的定时器去选举leader。这在其他一致性算法都需要的心跳检测上增加了一点机制，但是快速且简单地解决了冲突。
- 成员变化：Raft在变更集群中server集合成员时，使用了新的联合一致性方法，在过度期间两个不同配置的大多数成员有交集。这可以让集群在配置改变期间也可以继续正常操作。  

&emsp;&emsp;&emsp;&emsp;我们认为Raft算法优于Paxos算法和其他共识算法，不论是作为教学还是作为实现的基础。Raft算法比其他算法更简单并更容易理解；它被充分描述足以满足一个实际系统的需求；它有很多开源实现并且被很多公司使用；它的安全性已经被证实指定和证明；其效率也可以和其他算法相媲美。这篇论文剩下的部分介绍了复制状态机问题（第2部分），讨论了Paxos算法的优缺点（第3部分），描述了为了可理解性我们采用的一般方法（第4部分），展示了Raft一致性算法（第5到8部分），评估了Raft算法（第9部分），并且讨论了相关的工作（第10部分）。

# 2 复制状态机
&emsp;&emsp;&emsp;&emsp;一致性算法通常出现在复制状态机的情景中。在这个方法中，状态机在一批server上，计算相同状态的相同副本，即使某些server宕机了也可以继续操作。复制状态机在分布式系统中被用来解决很多容错问题。比如，只有一个leader的大规模系统，GFS，HDFS和RAMCloud，通常使用单独的复制状态机去管理leader选举和leader宕机时也必须可用的配置信息。复制状态机的例子包括Chubby和Zookeeper。  
&emsp;&emsp;&emsp;&emsp;复制状态机通常使用复制日志的方式实现，像图1中的那样。每一个存储了一个包括一系列命令的日志，状态机按照顺序执行这些日志。每一个日志包含相同的命令，并且顺序也相同，所以每一个状态机执行相同的命令序列。因为状态机是确定性的，每一个计算相同的状态并有相同的输出序列。






# TODO
* 这篇论文是extended版本，第一版也需要看。




















